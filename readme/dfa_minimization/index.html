<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<title>dfa_minimization</title><link rel="stylesheet" href="/normalize.css" data-svelte="svelte-tloy57"><link rel="stylesheet" href="/skeleton.css" data-svelte="svelte-tloy57"><link rel="stylesheet" href="/atom-dark.css" data-svelte="svelte-tloy57"><script src="/chart.min.js" data-svelte="svelte-tloy57"></script><script src="/chartjs_boxplot/index.umd.js" data-svelte="svelte-tloy57"></script><script src="/chartjs_error_bars/index.umd.js" data-svelte="svelte-tloy57"></script>

		

		<link rel="modulepreload" href="/_app/start-47896492.js">
		<link rel="modulepreload" href="/_app/chunks/vendor-774d9537.js">
		<link rel="modulepreload" href="/_app/chunks/paths-28a87002.js">
		<link rel="modulepreload" href="/_app/pages/__layout.svelte-fd97c867.js">
		<link rel="modulepreload" href="/_app/pages/readme/[slug].svelte-ca7dc303.js">
		<link rel="stylesheet" href="/_app/assets/start-61d1577b.css">
		<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-5e87a37c.css">
		<link rel="stylesheet" href="/_app/assets/pages/readme/[slug].svelte-e0f661c8.css">

		<script type="module">
			import { start } from "/_app/start-47896492.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"","assets":""},
				session: {},
				host: location.host,
				route: true,
				spa: false,
				trailing_slash: "never",
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/_app/pages/__layout.svelte-fd97c867.js"),
						import("/_app/pages/readme/[slug].svelte-ca7dc303.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/readme/dfa_minimization",
						query: new URLSearchParams(""),
						params: {"slug":"dfa_minimization"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">




<header><div class="container"><nav class="navbar"><a sveltekit:prefetch class="navbar-item navbar-link svelte-fav7xq" href="/">Home</a>
			<a sveltekit:prefetch class="navbar-item navbar-link svelte-fav7xq" href="/about">About</a>
			<a sveltekit:prefetch class="navbar-item navbar-link svelte-fav7xq" href="/activity">Activity</a>
			<a sveltekit:prefetch class="navbar-item navbar-link svelte-fav7xq" href="/gists">Gists</a>
			<a sveltekit:prefetch class="navbar-item navbar-link svelte-fav7xq" href="/cool-repos">Cool Repos</a>
			<a sveltekit:prefetch class="navbar-item navbar-link svelte-fav7xq" href="/blog">Blog</a>
			</nav></div></header>

<main class="container">

<h1 class="title svelte-1mgzh8t">dfa_minimization</h1>
<p class="info"><a href="https://github.com/andersama">Andersama</a> 2020-10-26T06:03:23Z / last updated: 2020-10-27T04:38:44Z</p>
<!-- HTML_TAG_START --><h1>dfa_minimization</h1>
<p>This toy~ish header implements a dfa minimization function</p>
<p>For example, below we have a dfa state machine where states 0 and 2 are equivalent. Although 4 has the same transitions it is different because it is an accepting state, the algorithm works by partitioning differently behaving states (after having removed dead / unreachable ones).</p>
<pre><code class="hljs language-c">    <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&#x3C;cmp_lexer::cmp_state> <span class="hljs-title">states</span><span class="hljs-params">(<span class="hljs-number">5</span>, cmp_lexer::cmp_state{})</span></span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &#x3C; states.size(); i++) {
        states[i].state_id   = i;
        states[i].default_to = states.size();
        <span class="hljs-comment">//add two transitions</span>
        states[i].transitions.emplace_back();
        states[i].transitions.emplace_back();
    }
    states[<span class="hljs-number">0</span>].transitions     = {{<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>}};
    states[<span class="hljs-number">1</span>].transitions     = {{<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">3</span>}};
    states[<span class="hljs-number">2</span>].transitions     = {{<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>}};
    states[<span class="hljs-number">3</span>].transitions     = {{<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">4</span>}};
    states[<span class="hljs-number">4</span>].transitions     = {{<span class="hljs-number">0</span>, <span class="hljs-number">1</span>}, {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>}};
    states.back().state_flags = (<span class="hljs-keyword">uint8_t</span>)cmp_lexer::cmp_flags::is_accepting;

    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&#x3C;cmp_lexer::cmp_state> min_states = cmp_lexer::minimized_table(states, <span class="hljs-number">0</span>);
    <span class="hljs-comment">//print the old unoptimized table</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &#x3C; states.size(); i++) {
        fmt::print(<span class="hljs-string">"[{}]: "</span>sv, states[i].state_id);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> t = <span class="hljs-number">0</span>; t &#x3C; states[i].transitions.size(); t++) {
            fmt::print(<span class="hljs-string">"[given:{}, goto:{}] "</span>sv, states[i].transitions[t].input, states[i].transitions[t].to);
        }
        <span class="hljs-keyword">if</span> (states[i].state_flags &#x26; (<span class="hljs-keyword">uint8_t</span>)cmp_lexer::cmp_flags::is_accepting)
            fmt::print(<span class="hljs-string">"-> accepting"</span>sv);
        <span class="hljs-keyword">if</span> (states[i].state_flags &#x26; (<span class="hljs-keyword">uint8_t</span>)cmp_lexer::cmp_flags::is_rejecting) <span class="hljs-comment">//?</span>
            fmt::print(<span class="hljs-string">"-> rejecting"</span>sv);
        fmt::print(<span class="hljs-string">"\n"</span>sv);
    }
    fmt::print(<span class="hljs-string">"\n\n"</span>sv);
    <span class="hljs-comment">//print the new optimized table</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &#x3C; min_states.size(); i++) {
        fmt::print(<span class="hljs-string">"[{}]: "</span>sv, min_states[i].state_id);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">size_t</span> t = <span class="hljs-number">0</span>; t &#x3C; min_states[i].transitions.size(); t++) {
            fmt::print(<span class="hljs-string">"[given:{}, goto:{}] "</span>sv, min_states[i].transitions[t].input, min_states[i].transitions[t].to);
        }
        <span class="hljs-keyword">if</span> (min_states[i].state_flags &#x26; (<span class="hljs-keyword">uint8_t</span>)cmp_lexer::cmp_flags::is_accepting)
            fmt::print(<span class="hljs-string">"-> accepting"</span>sv);
        <span class="hljs-keyword">if</span> (min_states[i].state_flags &#x26; (<span class="hljs-keyword">uint8_t</span>)cmp_lexer::cmp_flags::is_rejecting) <span class="hljs-comment">//?</span>
            fmt::print(<span class="hljs-string">"-> rejecting"</span>sv);
        fmt::print(<span class="hljs-string">"\n"</span>sv);
    }
</code></pre>
<p>The result is printed as below:</p>
<pre><code class="hljs language-json">[<span class="hljs-number">0</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">1</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">2</span>]
[<span class="hljs-number">1</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">1</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">3</span>]
[<span class="hljs-number">2</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">1</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">2</span>]
[<span class="hljs-number">3</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">1</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">4</span>]
[<span class="hljs-number">4</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">1</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">2</span>] -> accepting


[<span class="hljs-number">0</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">3</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">0</span>]
[<span class="hljs-number">3</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">3</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">2</span>]
[<span class="hljs-number">2</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">3</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">1</span>]
[<span class="hljs-number">1</span>]: [given:<span class="hljs-number">0</span>, goto:<span class="hljs-number">3</span>] [given:<span class="hljs-number">1</span>, goto:<span class="hljs-number">0</span>] -> accepting
</code></pre><!-- HTML_TAG_END --></main>

<footer class="svelte-fav7xq"><p>Â© Alex Anderson</p></footer>




			<script type="application/json" data-type="svelte-data" data-url="/readme/dfa_minimization.json">{"status":200,"statusText":"","headers":{"content-type":"text/plain;charset=UTF-8"},"body":"{\"id\":307275643,\"node_id\":\"MDEwOlJlcG9zaXRvcnkzMDcyNzU2NDM=\",\"name\":\"dfa_minimization\",\"full_name\":\"Andersama\u002Fdfa_minimization\",\"private\":false,\"owner\":{\"login\":\"Andersama\",\"id\":25020235,\"node_id\":\"MDQ6VXNlcjI1MDIwMjM1\",\"avatar_url\":\"https:\u002F\u002Favatars.githubusercontent.com\u002Fu\u002F25020235?v=4\",\"gravatar_id\":\"\",\"url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\",\"html_url\":\"https:\u002F\u002Fgithub.com\u002FAndersama\",\"followers_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Ffollowers\",\"following_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Ffollowing{\u002Fother_user}\",\"gists_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Fgists{\u002Fgist_id}\",\"starred_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Fstarred{\u002Fowner}{\u002Frepo}\",\"subscriptions_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Fsubscriptions\",\"organizations_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Forgs\",\"repos_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Frepos\",\"events_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Fevents{\u002Fprivacy}\",\"received_events_url\":\"https:\u002F\u002Fapi.github.com\u002Fusers\u002FAndersama\u002Freceived_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https:\u002F\u002Fgithub.com\u002FAndersama\u002Fdfa_minimization\",\"description\":null,\"fork\":false,\"url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\",\"forks_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fforks\",\"keys_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fkeys{\u002Fkey_id}\",\"collaborators_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fcollaborators{\u002Fcollaborator}\",\"teams_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fteams\",\"hooks_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fhooks\",\"issue_events_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fissues\u002Fevents{\u002Fnumber}\",\"events_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fevents\",\"assignees_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fassignees{\u002Fuser}\",\"branches_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fbranches{\u002Fbranch}\",\"tags_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Ftags\",\"blobs_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fgit\u002Fblobs{\u002Fsha}\",\"git_tags_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fgit\u002Ftags{\u002Fsha}\",\"git_refs_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fgit\u002Frefs{\u002Fsha}\",\"trees_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fgit\u002Ftrees{\u002Fsha}\",\"statuses_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fstatuses\u002F{sha}\",\"languages_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Flanguages\",\"stargazers_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fstargazers\",\"contributors_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fcontributors\",\"subscribers_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fsubscribers\",\"subscription_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fsubscription\",\"commits_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fcommits{\u002Fsha}\",\"git_commits_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fgit\u002Fcommits{\u002Fsha}\",\"comments_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fcomments{\u002Fnumber}\",\"issue_comment_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fissues\u002Fcomments{\u002Fnumber}\",\"contents_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fcontents\u002F{+path}\",\"compare_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fcompare\u002F{base}...{head}\",\"merges_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fmerges\",\"archive_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002F{archive_format}{\u002Fref}\",\"downloads_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fdownloads\",\"issues_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fissues{\u002Fnumber}\",\"pulls_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fpulls{\u002Fnumber}\",\"milestones_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fmilestones{\u002Fnumber}\",\"notifications_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fnotifications{?since,all,participating}\",\"labels_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Flabels{\u002Fname}\",\"releases_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Freleases{\u002Fid}\",\"deployments_url\":\"https:\u002F\u002Fapi.github.com\u002Frepos\u002FAndersama\u002Fdfa_minimization\u002Fdeployments\",\"created_at\":\"2020-10-26T06:03:23Z\",\"updated_at\":\"2020-10-27T04:38:44Z\",\"pushed_at\":\"2020-10-27T04:38:42Z\",\"git_url\":\"git:\u002F\u002Fgithub.com\u002FAndersama\u002Fdfa_minimization.git\",\"ssh_url\":\"git@github.com:Andersama\u002Fdfa_minimization.git\",\"clone_url\":\"https:\u002F\u002Fgithub.com\u002FAndersama\u002Fdfa_minimization.git\",\"svn_url\":\"https:\u002F\u002Fgithub.com\u002FAndersama\u002Fdfa_minimization\",\"homepage\":null,\"size\":9,\"stargazers_count\":0,\"watchers_count\":0,\"language\":\"C++\",\"has_issues\":true,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":null,\"allow_forking\":true,\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\",\"content\":\"\u003Ch1\u003Edfa_minimization\u003C\u002Fh1\u003E\\n\u003Cp\u003EThis toy~ish header implements a dfa minimization function\u003C\u002Fp\u003E\\n\u003Cp\u003EFor example, below we have a dfa state machine where states 0 and 2 are equivalent. Although 4 has the same transitions it is different because it is an accepting state, the algorithm works by partitioning differently behaving states (after having removed dead \u002F unreachable ones).\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-c\\\"\u003E    \u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-built_in\\\"\u003Estd\u003C\u002Fspan\u003E::\u003Cspan class=\\\"hljs-built_in\\\"\u003Evector\u003C\u002Fspan\u003E&#x3C;cmp_lexer::cmp_state\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Estates\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-params\\\"\u003E(\u003Cspan class=\\\"hljs-number\\\"\u003E5\u003C\u002Fspan\u003E, cmp_lexer::cmp_state{})\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Esize_t\u003C\u002Fspan\u003E i = \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E; i &#x3C; states.size(); i++) {\\n        states[i].state_id   = i;\\n        states[i].default_to = states.size();\\n        \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002Fadd two transitions\u003C\u002Fspan\u003E\\n        states[i].transitions.emplace_back();\\n        states[i].transitions.emplace_back();\\n    }\\n    states[\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E].transitions     = {{\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E}};\\n    states[\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E].transitions     = {{\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E}};\\n    states[\u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E].transitions     = {{\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E}};\\n    states[\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E].transitions     = {{\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E4\u003C\u002Fspan\u003E}};\\n    states[\u003Cspan class=\\\"hljs-number\\\"\u003E4\u003C\u002Fspan\u003E].transitions     = {{\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E}, {\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, \u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E}};\\n    states.back().state_flags = (\u003Cspan class=\\\"hljs-keyword\\\"\u003Euint8_t\u003C\u002Fspan\u003E)cmp_lexer::cmp_flags::is_accepting;\\n\\n    \u003Cspan class=\\\"hljs-built_in\\\"\u003Estd\u003C\u002Fspan\u003E::\u003Cspan class=\\\"hljs-built_in\\\"\u003Evector\u003C\u002Fspan\u003E&#x3C;cmp_lexer::cmp_state\u003E min_states = cmp_lexer::minimized_table(states, \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E);\\n    \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002Fprint the old unoptimized table\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Esize_t\u003C\u002Fspan\u003E i = \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E; i &#x3C; states.size(); i++) {\\n        fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"[{}]: \\\"\u003C\u002Fspan\u003Esv, states[i].state_id);\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Esize_t\u003C\u002Fspan\u003E t = \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E; t &#x3C; states[i].transitions.size(); t++) {\\n            fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"[given:{}, goto:{}] \\\"\u003C\u002Fspan\u003Esv, states[i].transitions[t].input, states[i].transitions[t].to);\\n        }\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (states[i].state_flags &#x26; (\u003Cspan class=\\\"hljs-keyword\\\"\u003Euint8_t\u003C\u002Fspan\u003E)cmp_lexer::cmp_flags::is_accepting)\\n            fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"-\u003E accepting\\\"\u003C\u002Fspan\u003Esv);\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (states[i].state_flags &#x26; (\u003Cspan class=\\\"hljs-keyword\\\"\u003Euint8_t\u003C\u002Fspan\u003E)cmp_lexer::cmp_flags::is_rejecting) \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F?\u003C\u002Fspan\u003E\\n            fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"-\u003E rejecting\\\"\u003C\u002Fspan\u003Esv);\\n        fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"\\\\n\\\"\u003C\u002Fspan\u003Esv);\\n    }\\n    fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"\\\\n\\\\n\\\"\u003C\u002Fspan\u003Esv);\\n    \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002Fprint the new optimized table\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Esize_t\u003C\u002Fspan\u003E i = \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E; i &#x3C; min_states.size(); i++) {\\n        fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"[{}]: \\\"\u003C\u002Fspan\u003Esv, min_states[i].state_id);\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Efor\u003C\u002Fspan\u003E (\u003Cspan class=\\\"hljs-keyword\\\"\u003Esize_t\u003C\u002Fspan\u003E t = \u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E; t &#x3C; min_states[i].transitions.size(); t++) {\\n            fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"[given:{}, goto:{}] \\\"\u003C\u002Fspan\u003Esv, min_states[i].transitions[t].input, min_states[i].transitions[t].to);\\n        }\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (min_states[i].state_flags &#x26; (\u003Cspan class=\\\"hljs-keyword\\\"\u003Euint8_t\u003C\u002Fspan\u003E)cmp_lexer::cmp_flags::is_accepting)\\n            fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"-\u003E accepting\\\"\u003C\u002Fspan\u003Esv);\\n        \u003Cspan class=\\\"hljs-keyword\\\"\u003Eif\u003C\u002Fspan\u003E (min_states[i].state_flags &#x26; (\u003Cspan class=\\\"hljs-keyword\\\"\u003Euint8_t\u003C\u002Fspan\u003E)cmp_lexer::cmp_flags::is_rejecting) \u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F?\u003C\u002Fspan\u003E\\n            fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"-\u003E rejecting\\\"\u003C\u002Fspan\u003Esv);\\n        fmt::print(\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"\\\\n\\\"\u003C\u002Fspan\u003Esv);\\n    }\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EThe result is printed as below:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-json\\\"\u003E[\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E]\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E]\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E]\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E4\u003C\u002Fspan\u003E]\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E4\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E] -\u003E accepting\\n\\n\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E]\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E]\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E2\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E]\\n[\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E]: [given:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E3\u003C\u002Fspan\u003E] [given:\u003Cspan class=\\\"hljs-number\\\"\u003E1\u003C\u002Fspan\u003E, goto:\u003Cspan class=\\\"hljs-number\\\"\u003E0\u003C\u002Fspan\u003E] -\u003E accepting\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\"}"}</script>
		</div>
		<!--Traffic-->
		<script async defer
		 data-website-id="64a6ac0c-d6ba-4020-8e6a-598695803b90" 
		 src="https://andersama-umami.vercel.app/umami.js"
		 data-do-not-track="true"
		 data-domains="andersama.github.io"></script>
	</body>
</html>
